<div class="analytics-dashboard">
  <h2 class="page-title">
    <i class="fas fa-clipboard-list"></i> Analytics Dashboard
  </h2>

  <div class="metric-selector">
    <button 
      [class.active]="selectedMetric === 'total'" 
      (click)="onMetricChange('total')">
      Total Applications
    </button>
    <button 
      [class.active]="selectedMetric === 'active'" 
      (click)="onMetricChange('active')">
      Active Applications
    </button>
  </div>

  <div class="metrics-row">
    <div class="left-card">
      <!--<h3>{{ selectedMetric === 'total' ? 'Total Applications' : 'Active Applications' }}</h3>-->
      <p class="metric-value">{{ animatedMetric }}</p>
    </div>
    
    <div class="right-chart">
      <h3>Status Distribution</h3>
      <canvas #statusDistributionChart></canvas>
    </div>
  </div>

  <div class="linechart-row">
    <h3>Status Transitions Over Time</h3>
    <canvas #statusTrendsChart></canvas>
    <p class="chart-description">
      Each line represents the number of transitions to a given status on each day.
    </p>
  </div>

  <div class="feedback-analysis-button-container">
    <button class="btn-primary feedback-analysis-btn" routerLink="/insights">
      <i class="fas fa-chart-bar"></i> Feedback Analysis
    </button>
  </div>

  <div *ngIf="errorMessage" class="error">{{ errorMessage }}</div>
</div>
